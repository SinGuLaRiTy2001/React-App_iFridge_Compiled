---
layout: post
title: 'Python实现数据排序'
date: 2020-05-06
author: Wen Jian
cover: ''
tags: Python
---

这道题提交了好多次都提示结果错误，最后竟然是因为表达式不限于 2+3 ，输入的表达式可以是 2+3+4 ，2+3+4+5 ......再一次败在了审题上qwq

## Description

已知有以下列表：（分别为：员工编号,姓名,基本工资,奖金,住房补助,五险一金,其他扣款,专项附加扣除）

``` python
incomeList = [
    ['10932', '张珊', 15000.00, 4000.00, 2300.00, 980.00, 300.00, 1000.00],
    ['10933', '李思', 12000.00, 5000.00, 2600.00, 890.00, 400.00, 2000.00],
    ['10934', '王武', 10100.00, 2000.00, 2500.00, 860.00, 500.00, 1500.00],
    ['10935', '赵柳', 10050.00, 1000.00, 2700.00, 1080.00, 300.00, 2000.00],
    ['10936', '钱棋', 10200.00, 2000.00, 2400.00, 1000.00, 600.00, 1000.00],
    ['10941', '张明', 13600.00, 4000.00, 2100.00, 680.00, 300.00, 1000.00],
    ['10942', '赵敏', 13200.00, 2500.00, 2300.00, 670.00, 400.00, 3000.00],
    ['10945', '王红', 13600.00, 2600.00, 2030.00, 560.00, 400.00, 2000.00],
    ['10946', '李萧', 12500.00, 2800.00, 2400.00, 420.00, 500.00, 1500.00],
    ['10947', '孙科', 12000.00, 3500.00, 2030.00, 880.00, 300.00, 1000.00],
    ['10948', '刘利', 14200.00, 2500.00, 2020.00, 900.00, 400.00, 2000.00]
]
```

编写程序，根据用户输入的表达式进行列表降序排序后，输出员工编号，编号之间用逗号分隔。例如，用户输入2+3，代表需要按照第2项（基本工资）与第3项（奖金）的和进行升序排列。注：表达式中仅允许出现：2、3、4、5、6、7、+、-这几个字符。

## Input

表达式

## Output

逗号分隔的员工编号

## Sample input

`2+3`

## Sample output

`10935,10934,10936,10946,10947,10942,10945,10948,10933,10941,10932`

## Source code

``` python
incomeList = [
    ['10932', '张珊', 15000.00, 4000.00, 2300.00, 980.00, 300.00, 1000.00],
    ['10933', '李思', 12000.00, 5000.00, 2600.00, 890.00, 400.00, 2000.00],
    ['10934', '王武', 10100.00, 2000.00, 2500.00, 860.00, 500.00, 1500.00],
    ['10935', '赵柳', 10050.00, 1000.00, 2700.00, 1080.00, 300.00, 2000.00],
    ['10936', '钱棋', 10200.00, 2000.00, 2400.00, 1000.00, 600.00, 1000.00],
    ['10941', '张明', 13600.00, 4000.00, 2100.00, 680.00, 300.00, 1000.00],
    ['10942', '赵敏', 13200.00, 2500.00, 2300.00, 670.00, 400.00, 3000.00],
    ['10945', '王红', 13600.00, 2600.00, 2030.00, 560.00, 400.00, 2000.00],
    ['10946', '李萧', 12500.00, 2800.00, 2400.00, 420.00, 500.00, 1500.00],
    ['10947', '孙科', 12000.00, 3500.00, 2030.00, 880.00, 300.00, 1000.00],
    ['10948', '刘利', 14200.00, 2500.00, 2020.00, 900.00, 400.00, 2000.00]
]

new_incomeList = []

expree = input()
express_list = list(expree)

for m in range(0, len(incomeList)):
    sum = incomeList[m][int(express_list[0])]
    for i in range(1, len(express_list), 2):
        if express_list[i] == '+':
            sum += incomeList[m][int(express_list[i+1])]
        else:
            sum -= incomeList[m][int(express_list[i+1])]
    incomeList[m].append(sum)
incomeList.sort(key=lambda x: x[8])
length = len(incomeList)
for n in range(0, length-1):
    print(incomeList[n][0], end=',')
print(incomeList[length-1][0])

```

## Code points

- 对于这个 List ，如果你把它看作一个二维数组，那么就简单多了。而且由于 python 允许对 List 有许多灵活的操作，解决这个问题就变得比较简便了。
- 关于 list() 函数，它被用于将元组转换为列表。我们也可通过 list() 将字符串转化为 List 列表。
- 关于 sort() 函数，它的语法结构为：
  `List.sort(cmp=None, key=None, reverse=False)`
  - cmp —— 可选参数, 如果指定了该参数会使用该参数的方法进行排序。
  - key —— 主要是用来进行比较的元素，只有一个参数，具体的函数的参数就是取自于可迭代对象中，指定可迭代对象中的一个元素来进行排序。
  - reverse —— 排序规则，reverse = True 降序， reverse = False 升序（默认）。
  
  上面的代码中我们用到了 lambda ，这是 python 中的一个关键字，用于实现相对简单的表达式，例如代码中的 `lambda x: x[8]` ，就可以理解为将列表名作为参数输入，返回该列表的第8个元素。 lambda 的用法其实非常灵活，这位“肖哥shelwin”在他的 <a href="https://blog.csdn.net/zjuxsl/article/details/79437563" target="_blank">一篇博文</a> 中给出比较详细的讲解。
- python 中的 int 转换，与 C++ 中转换为字符的 ASCII 码不同，python 中的 int 转换直接返回字符本身表达的数字，例如 `int('1')` 得到的就是 1。
- 由于 python 中的变量不需指出类型（在某种程度上甚至可以说是不需要定义），因此在进行运算或是使用为函数参数时需要格外注意类型。

> 哈哈哈，度过了一个开心的中午呢！
