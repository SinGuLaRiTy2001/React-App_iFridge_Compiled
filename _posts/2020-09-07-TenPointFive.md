---
layout: post
title: 'Ten Point Five 十点半扑克牌游戏'
date: 2020-09-07
author: Wen Jian
cover: ''
tags: Blogs C++ MFC
---

> 此项目采用 Apache License 2.0 开源协议。
> Github Repo：<a href="https://github.com/SinGuLaRiTy2001/TenPointFive" target="_blank">SinGuLaRiTy2001/TenPointFive</a>

# Ten Point Five 十点半扑克牌游戏

> 此项目为东南大学信息科学与工程学院2019级C++暑期学校的MFC项目 

> 项目成员：文简、黄昱崧、刘弘祥、董贝佳

## 题目：十点半扑克牌游戏——实现双人对弈

自行设计开始界面，按键或鼠标启动游戏，游戏界面包括游戏区和显示区，显示区显示提示信息和双方得分，初始分数均为零。54张扑克牌自动洗牌， 显示提示信息，询问双方各需要几张牌（1～5有效），按先后顺序发牌，在游戏区显示发牌结果，牌点和花色均显示。更新得分信息。重新开始下一轮，直到剩余牌数不足双方所需牌数时，游戏结束，得分多者胜。

计分规则如下：不分花色，只按点数计分，1～9按牌点计，其它按0.5点计，如此点数之和超过10.5，计0分；正好10.5，计3分；当玩家要5张牌，且5张均为0.5点时，计5分；若双方均不足10.5，则接近10.5的计2分，另一方计1分；若双方均不足10.5，且点数相同，则双方均计0.5；若只有一方不足10.5，则根据对方得分两种情况，若对方得分>=3，则计1分，否则计2分。

功能扩充：建立游戏得分排行榜，记录5名得分最高者的得分和姓名；扩充为多人游戏；音乐伴奏。

## 需求

交互类：

- 各界面设计：主菜单界面（开始游戏按键+游戏规则按键）、游戏界面（游戏区+显示区）、【扩充选项】根据玩家人数显示相应数量的牌池、【扩充选项】排行榜界面；
- 对话框：【扩充选项】在游戏开始时询问玩家人数；在游戏开始界面弹出文本对话框告知规则；游戏界面中弹出选择对话框询问玩家需要的牌数；游戏结束后弹出对话框告知游戏结果。

逻辑类：

- 按照玩家需求随机发放扑克牌至各玩家牌池，发放中记录剩余牌数；若剩余牌数不足发放当前轮，则游戏结束；
- 实时根据当前轮次各玩家的点数计算得分，并显示在右侧的显示区；
- 游戏结束后，对玩家得分进行排序，计算得分最高的玩家及其得分；【扩充选项】代入本次玩家的最终得分与排行榜中各玩家的得分进行排序，用排序结果更新排行榜；
- 询问是否“再来一局”：YES-返回“选择玩家人数”阶段，重新开始；NO-退出程序。

其它功能：

- BGM 背景音乐、【扩充选项】音效；
- 在牌池显示扑克卡牌图片；
- ......

## 程序逻辑流程图

![十点半应用逻辑流程图](https://s1.ax1x.com/2020/09/08/wMkepV.png)

## 初始阶段分工

交互类：

- 各界面设计：主菜单界面（开始游戏按键+游戏规则按键）、游戏界面（游戏区+显示区）、【扩充选项】根据玩家人数显示相应数量的牌池、【扩充选项】排行榜界面；**【董贝佳】**
- 对话框：【扩充选项】在游戏开始时询问玩家人数；在游戏开始界面弹出文本对话框告知规则；游戏界面中弹出选择对话框询问玩家需要的牌数；游戏结束后弹出对话框告知游戏结果。**【刘弘祥】**
- 询问是否“再来一局”：YES-返回“选择玩家人数”阶段，重新开始；NO-退出程序。**【黄昱崧】**

逻辑类：

- 按照玩家需求随机发放扑克牌至各玩家牌池，发放中记录剩余牌数；若剩余牌数不足发放当前轮，则游戏结束；**【黄昱崧】**
- 实时根据当前轮次各玩家的点数计算得分，并显示在右侧的显示区；**【文简】**
- 游戏结束后，对玩家得分进行排序，计算得分最高的玩家及其得分；【扩充选项】代入本次玩家的最终得分与排行榜中各玩家的得分进行排序，用排序结果更新排行榜；**【文简】**

其它功能：

- 整体代码框架；**【文简、董贝佳】**
- BGM 背景音乐、【扩充选项】音效；**【黄昱崧】**
- 在牌池显示扑克卡牌图片；**【刘弘祥】**
- [New Features!] 游戏内置作弊码：输入特定字符实现相关功能。**【刘弘祥、董贝佳】**